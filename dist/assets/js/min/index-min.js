const canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),wrap=document.getElementById("canvas-wrapper"),v=document.getElementById("video"),img=document.createElement("img");var videoArray=[],imageArray=[],globalID,draw=function(){if(img.src="",0===imageArray.length)for(var e=1;12>e;)imageArray.push("assets/img/wp-"+e++ +".jpg");var a=function(){var e=Math.floor(Math.random()*imageArray.length-1)+1;img.src=imageArray[e]};a(),img.addEventListener("load",function(){var e=wrap.getBoundingClientRect().width,a=e/1.6;canvas.width=e,canvas.height=a,ctx.drawImage(this,0,0,e,a),console.log("Image on screen = "+this.src)})},videoSet=function(){for(var e=1;3>e;)videoArray.push("assets/video/bd-w-"+e++ +".mp4")},videoPick=function(){var e=Math.floor(Math.random()*videoArray.length-1)+1;v.src=videoArray[e],videoArray.length>0?videoArray.splice(e):(videoSet(),v.src=videoArray[e])},drawVideo=function(){v.play();var e=wrap.getBoundingClientRect().width,a=e/1.6;canvas.width=e,canvas.height=a,ctx.drawImage(v,0,0,e,a)},loop=function(){drawVideo(),globalID=requestAnimationFrame(loop)},flip=function(){var e=null;window.cancelAnimationFrame(globalID),v.pause(),ctx.clearRect(0,0,1e3,1e3),console.log("Clear!"),e=Math.floor(2*Math.random()),0===e?draw():(videoPick(),loop()),e=null};videoSet(),document.addEventListener("DOMContentLoaded",function(){setInterval(flip,3e3)});